@page "/log-out"
@using IdentityClaimsPlay.Crm.Data
@attribute [IgnoreAntiforgeryToken]
@inject SignInManager<User> SignInManager

@functions {

  public async Task<IActionResult> OnGet() {
    if (SignInManager.IsSignedIn(User)) {
      await SignInManager.SignOutAsync();
    }
    return Redirect("~/");
  }

  public async Task<IActionResult> OnPost() {
    if (SignInManager.IsSignedIn(User)) {
      await SignInManager.SignOutAsync();
    }
    return Redirect("~/");
  }

}